<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction au package Shiny | Concevoir une Ã©tude de marchÃ© de A Ã  Z avec R</title>
  <meta name="description" content="Etude de marchÃ© et R" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction au package Shiny | Concevoir une Ã©tude de marchÃ© de A Ã  Z avec R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Etude de marchÃ© et R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction au package Shiny | Concevoir une Ã©tude de marchÃ© de A Ã  Z avec R" />
  
  <meta name="twitter:description" content="Etude de marchÃ© et R" />
  

<meta name="author" content="AurÃ©lien Daval" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="questionnaire.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="introduction-au-package-shiny.html"><a href="introduction-au-package-shiny.html"><i class="fa fa-check"></i><b>2</b> Introduction au package Shiny</a></li>
<li class="chapter" data-level="3" data-path="questionnaire.html"><a href="questionnaire.html"><i class="fa fa-check"></i><b>3</b> Programmation du questionnaire</a><ul>
<li class="chapter" data-level="3.1" data-path="questionnaire.html"><a href="questionnaire.html#introduction-au-package-shiny-1"><i class="fa fa-check"></i><b>3.1</b> Introduction au package Shiny</a></li>
<li class="chapter" data-level="3.2" data-path="questionnaire.html"><a href="questionnaire.html#les-différentes-type-de-questions."><i class="fa fa-check"></i><b>3.2</b> Les différentes type de questions.</a><ul>
<li class="chapter" data-level="3.2.1" data-path="questionnaire.html"><a href="questionnaire.html#la-question-fermée-à-choix-unique"><i class="fa fa-check"></i><b>3.2.1</b> La question fermée à choix unique</a></li>
<li class="chapter" data-level="3.2.2" data-path="questionnaire.html"><a href="questionnaire.html#la-question-fermée-à-choix-multiple"><i class="fa fa-check"></i><b>3.2.2</b> La question fermée à choix multiple</a></li>
<li class="chapter" data-level="3.2.3" data-path="questionnaire.html"><a href="questionnaire.html#la-question-fermée-à-choix-multiple-1"><i class="fa fa-check"></i><b>3.2.3</b> La question fermée à choix multiple</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="questionnaire.html"><a href="questionnaire.html#la-structure-du-questionnaire"><i class="fa fa-check"></i><b>3.3</b> La structure du questionnaire</a><ul>
<li class="chapter" data-level="3.3.1" data-path="questionnaire.html"><a href="questionnaire.html#mise-en-place-dun-bandeau"><i class="fa fa-check"></i><b>3.3.1</b> Mise en place d'un bandeau</a></li>
<li class="chapter" data-level="3.3.2" data-path="questionnaire.html"><a href="questionnaire.html#la-succession-de-laffichage-des-questions"><i class="fa fa-check"></i><b>3.3.2</b> La succession de l'affichage des questions</a></li>
<li class="chapter" data-level="3.3.3" data-path="questionnaire.html"><a href="questionnaire.html#question-filtrée"><i class="fa fa-check"></i><b>3.3.3</b> Question filtrée</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="questionnaire.html"><a href="questionnaire.html#conclusion"><i class="fa fa-check"></i><b>3.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sauvegarde-des-réponses.html"><a href="sauvegarde-des-réponses.html"><i class="fa fa-check"></i><b>4</b> Sauvegarde des réponses</a></li>
<li class="chapter" data-level="5" data-path="mise-en-ligne-du-questionnaire.html"><a href="mise-en-ligne-du-questionnaire.html"><i class="fa fa-check"></i><b>5</b> Mise en ligne du questionnaire</a></li>
<li class="chapter" data-level="6" data-path="traitement.html"><a href="traitement.html"><i class="fa fa-check"></i><b>6</b> Traitement</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Concevoir une Ã©tude de marchÃ© de A Ã  Z avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-au-package-shiny" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Introduction au package Shiny</h1>
<p>Le questionnaire va donc être programmé via le package Shiny. Avant de programmer notre questionnaire, je vous propose de regarder comment ce package fonctionne.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(shiny)</code></pre></div>
<p>Une application Shiny se compose de deux éléments :</p>
<ul>
<li>L'Interface Utilisateur (UI) : vous allez gérer ici l'apparence de votre application, sa mise en page.</li>
<li>Le serveur (Server) : c'est les instructions qui régissent les interactions à l'intérieur de votre application. Qu'est ce qui se passe quand j'appuie sur ce bouton ? Qu'est ce qui doit être affiché ?</li>
</ul>
<p>Pour créer votre première application, il faut (dans R Studio) cliquer sur : Fichier &gt; Nouveau Fichier &gt; Shiny Web App &gt; Un seul fichier &gt; Nom de l'application : Questionnaire. Félicitations. Vous auriez pu créer deux fichiers (ui.R et server.R) en cliquant sur l'option &quot;Fichiers Multiples&quot;. Pour ma part, je trouve qu'il est plus facile de suivre un tutoriel avec un seul fichier (app.R) pour reproduire facilement ce qui est montré. Cependant, je vous conseille lors de la programmation d'une application (où le nombre de lignes de code augmente au fil du développement) de diviser votre application en plusieurs fichiers pour vous y retrouver plus facilement.</p>
<p>Ci-dessous la structure d'une application Shiny :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Chargement du package Shiny. </span>
<span class="kw">library</span>(shiny)

<span class="co"># L&#39;Interface Utilisateur --&gt; la page web de l&#39;application. </span>
ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>()
   
<span class="co"># Le Serveur  --&gt; les instructions pour les interactions. </span>
server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {}

<span class="co"># Lancer l&#39;application </span>
<span class="kw">shinyApp</span>(<span class="dt">ui =</span> ui, <span class="dt">server =</span> server)</code></pre></div>
<p>Pour fonctionner, une application Shiny a besoin de :</p>
<ul>
<li>Inputs :</li>
</ul>
<p>C'est ce qui permet à l'utilisateur d'intéragir avec votre application en modifiant certaines valeurs. Les inputs sont toujours à l'intérieur de la partie UI. Plusieurs type d'inputs (textInput, dateInput, numericInput, ...) sont possibles. Vous avez un aperçu <a href="https://shiny.rstudio.com/gallery/widget-gallery.html">ici</a>.</p>
<p>A l'intérieur de chaque Inputs, il y a plusieurs arguments. Deux sont communs à tous (InputID et Label). L'ID permet de mettre en place les interactions dans le Serveur et de savoir de quels Inputs on parle. L'ID est unique. Le label permet d'ajouter du texte avant l'Input dans votre Interface Utilisateur. Et enfin, d'autres arguments sonnt nécessaires en fonction de chaque Inputs.</p>
<p>Ci-dessous un Input numérique. L'ID --&gt; num. Le Label --&gt; &quot;Voici un Input numérique&quot; (le h6, c'est pour signifier à l'application qu'il s'agit d'un titre taille 6). Pour finir, on peut ajouter une valeur de départ à cette Input : le chiffre affiché au départ sera le 1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">numericInput</span>(<span class="dt">inputId =</span> <span class="st">&quot;num&quot;</span>, <span class="dt">label =</span> <span class="kw">h6</span>(<span class="st">&quot;Voici un Input numérique&quot;</span>), <span class="dt">value =</span> <span class="dv">1</span>)</code></pre></div>
<div class="form-group shiny-input-container">
<label class="control-label" for="num">
<h6>Voici un Input numérique</h6>
</label>
<input id="num" type="number" class="form-control" value="1"/>
</div>
<p><br/></p>
<ul>
<li>Outputs :</li>
</ul>
<p>C'est ce qui permet d'afficher des graphiques, des espaces de textes ou des tableaux. Pour créer un Output, il faut : 1. Définir où l'Ouput doit se situer dans l'application (UI) 2. Définir ce que cet Output doit afficher dans la partie Serveur. Vous avez un aperçu <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson4/">ici</a> des différents Outputs possibles.</p>
<p>Reprenons l'exemple ci-dessus avec un Input numérique. Et ajoutons lui un output : je souhaite que l'application ajoute un zone de texte avec le chiffre affiché dans l'Input, chiffre auquel je vais ajouter +2. Dans la partie UI, je notifie à l'application là où doit se trouver l'Output (textOutput --&gt; ID: num2). Ensuite, dans la partie serveur, je vais dire à l'application ce qu'il doit afficher. Il doit afficher du texte (renderText). Ce texte, c'est la valeur de l'Input numérique renseigné par l'utilisateur +2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Chargement du package Shiny. </span>
<span class="kw">library</span>(shiny)

<span class="co"># L&#39;Interface Utilisateur --&gt; la page web de l&#39;application. </span>
ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(
  <span class="kw">numericInput</span>(<span class="st">&quot;num&quot;</span>, <span class="dt">label =</span> <span class="kw">h6</span>(<span class="st">&quot;Voici un Input numérique&quot;</span>), <span class="dt">value =</span> <span class="dv">1</span>), 
  <span class="kw">p</span>(<span class="st">&quot;Le chiffre ci dessus +2 :&quot;</span>),
  <span class="kw">textOutput</span>(<span class="st">&quot;num2&quot;</span>)
)
   
<span class="co"># Le Serveur  --&gt; les instructions pour les interactions. </span>
server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {
  output<span class="op">$</span>num2 &lt;-<span class="st"> </span><span class="kw">renderText</span>({input<span class="op">$</span>num <span class="op">+</span><span class="st"> </span><span class="dv">2</span>})
}

<span class="co"># Lancer l&#39;application </span>
<span class="kw">shinyApp</span>(<span class="dt">ui =</span> ui, <span class="dt">server =</span> server)</code></pre></div>
<p><img src="SurveyBook_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Pour clore cette introduction au package Shiny, je vous propose de créer une application &quot;Calculatrice&quot;. Je me suis inspiré <a href="https://rstudio-pubs-static.s3.amazonaws.com/317038_62ec6c4336ec4b359103825f3dbe9b00.html#1">ici</a> pour créer notre application.</p>
<p>3 Inputs : le premier chiffre, le second chiffre et une dernière entrée pour le choix de l'opérateur (+,-,/,x). L'Ouput : le résultat de ce calcul.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Chargement du package Shiny. </span>
<span class="kw">library</span>(shiny)

<span class="co"># L&#39;Interface Utilisateur --&gt; la page web de l&#39;application. </span>
ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(
  
  <span class="kw">titlePanel</span>(<span class="st">&quot;Calculatrice&quot;</span>),
  
  <span class="kw">sidebarPanel</span>(
    <span class="kw">numericInput</span>(<span class="st">&quot;num1&quot;</span>, <span class="st">&quot;1er Nombre&quot;</span>, <span class="dv">0</span>),
    <span class="kw">numericInput</span>(<span class="st">&quot;num2&quot;</span>, <span class="st">&quot;2nd Nombre&quot;</span>, <span class="dv">0</span>),
    <span class="kw">selectInput</span>(<span class="st">&quot;operator&quot;</span>, <span class="st">&quot;L&#39;opérateur&quot;</span>,
                <span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">&quot;+&quot;</span>,<span class="st">&quot;-&quot;</span>,<span class="st">&quot;x&quot;</span>, <span class="st">&quot;/&quot;</span>))),
  <span class="kw">mainPanel</span>(
    <span class="kw">h2</span>(<span class="st">&quot;Résultat:&quot;</span>),
    <span class="kw">textOutput</span>(<span class="st">&quot;output&quot;</span>))
  
)

<span class="co"># Le Serveur  --&gt; les instructions pour les interactions. </span>
server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {
  
  output<span class="op">$</span>output &lt;-<span class="st"> </span><span class="kw">renderText</span>({
    <span class="cf">switch</span>(input<span class="op">$</span>operator,
           <span class="st">&quot;+&quot;</span> =<span class="st"> </span>input<span class="op">$</span>num1 <span class="op">+</span><span class="st"> </span>input<span class="op">$</span>num2,
           <span class="st">&quot;-&quot;</span> =<span class="st"> </span>input<span class="op">$</span>num1 <span class="op">-</span><span class="st"> </span>input<span class="op">$</span>num2,
           <span class="st">&quot;x&quot;</span> =<span class="st"> </span>input<span class="op">$</span>num1 <span class="op">*</span><span class="st"> </span>input<span class="op">$</span>num2,
           <span class="st">&quot;/&quot;</span> =<span class="st"> </span>input<span class="op">$</span>num1 <span class="op">/</span><span class="st"> </span>input<span class="op">$</span>num2)})
  
}

<span class="co"># Lancer l&#39;application </span>
<span class="kw">shinyApp</span>(<span class="dt">ui =</span> ui, <span class="dt">server =</span> server)</code></pre></div>
<p><img src="SurveyBook_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Pour allez plus loin sur ce package Shiny, vous pouvez aller jeter un coup d'oeil sur ces différents liens :</p>
<ul>
<li>Le tutoriel <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/">ici</a></li>
<li>Le tutoriel <a href="https://deanattali.com/blog/building-shiny-apps-tutorial/">ici</a></li>
</ul>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="questionnaire.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SurveyBook.pdf", "SurveyBook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
